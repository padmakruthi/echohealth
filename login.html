<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Echo Health | Secure Entry</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">

<style>
:root {
  --secondary:#4fd1c5;
  --bg:#0f172a;
  --card:#1e293b;
}
*{margin:0;padding:0;box-sizing:border-box}
body{
  font-family:Inter,sans-serif;
  background:var(--bg);
  color:#f1f5f9;
  height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
}
.hidden{display:none}

#splash{
  position:fixed;inset:0;
  background:var(--bg);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  z-index:10;
}
.splash-logo{
  width:120px;height:120px;border-radius:50%;
  animation:pop 1.8s forwards;
  filter:drop-shadow(0 0 15px var(--secondary));
}
@keyframes pop{
  0%{transform:scale(.5);opacity:0}
  100%{transform:scale(1);opacity:1}
}

.card{
  width:380px;
  background:rgba(30,41,59,.9);
  padding:40px;
  border-radius:12px;
}
input,button{
  width:100%;
  padding:14px;
  margin-bottom:15px;
  border-radius:6px;
  border:none;
}
input{background:#333;color:white}
button{
  background:var(--secondary);
  color:white;
  font-weight:800;
  cursor:pointer;
}

#profiles{text-align:center}
.grid{
  display:flex;
  gap:40px;
  justify-content:center;
  flex-wrap:wrap;
  margin-top:30px;
}
.profile{
  cursor:pointer;
  transition:.3s;
}
.profile:hover{transform:scale(1.1)}
.avatar{
  width:140px;height:140px;
  border-radius:8px;
  margin-bottom:10px;
  background-size:cover;
  box-shadow:0 10px 20px rgba(0,0,0,.4);
}

#modal{
  position:fixed;inset:0;
  background:rgba(0,0,0,.85);
  display:none;
  align-items:center;
  justify-content:center;
}
.modal-card{
  background:var(--card);
  padding:30px;
  width:360px;
  border-radius:12px;
}

#notif{
  position:fixed;
  bottom:20px;
  font-size:.8rem;
  color:var(--secondary);
}
</style>
</head>

<body>

<!-- SPLASH -->
<div id="splash">
  <img src="./logo.jpeg" class="splash-logo">
  <h1 style="margin-top:20px;letter-spacing:3px;font-family:Playfair Display;color:var(--secondary)">
    ECHO HEALTH
  </h1>
</div>

<!-- LOGIN -->
<div id="login" class="card hidden">
  <h2 style="margin-bottom:25px;font-family:Playfair Display">Sign In</h2>
  <input id="email" type="email" placeholder="Email">
  <input type="password" placeholder="Password">
  <button onclick="login()">Sign In</button>
</div>

<!-- PROFILES -->
<div id="profiles" class="hidden">
  <h1 style="font-family:Playfair Display;font-size:2.5rem">Who's monitoring?</h1>

  <button style="max-width:260px;margin:20px auto;background:#e53e3e"
          onclick="startAlerts()">ENABLE DEMO ALERTS</button>

  <div class="grid" id="profileGrid">
    <div class="profile" onclick="selectUser('Father')">
      <div class="avatar" style="background-image:url('https://ui-avatars.com/api/?name=Father&background=2c5282&color=fff&size=200')"></div>
      <span>Father</span>
    </div>

    <div class="profile" onclick="selectUser('Mother')">
      <div class="avatar" style="background-image:url('https://ui-avatars.com/api/?name=Mother&background=4fd1c5&color=fff&size=200')"></div>
      <span>Mother</span>
    </div>

    <div class="profile" onclick="openModal()">
      <div class="avatar" style="background:#333;font-size:4rem;display:flex;align-items:center;justify-content:center">+</div>
      <span>Add Patient</span>
    </div>
  </div>
</div>

<!-- ADD MODAL -->
<div id="modal">
  <div class="modal-card">
    <h3 style="margin-bottom:15px">Add New Patient</h3>
    <input id="newName" placeholder="Patient Name">
    <button onclick="addProfile()">Add & Select</button>
    <p style="text-align:center;cursor:pointer;color:#94a3b8" onclick="closeModal()">Cancel</p>
  </div>
</div>

<div id="notif">Notifications: Idle</div>

<script>
setTimeout(()=>{
  splash.style.display="none";
  login.classList.remove("hidden");
},2500);

function login(){
  if(!email.value) return alert("Enter email");
  login.classList.add("hidden");
  profiles.classList.remove("hidden");
}

function selectUser(name){
  localStorage.setItem("activeUser",name);
  alert(name+" selected âœ…");
}

function openModal(){ modal.style.display="flex"; }
function closeModal(){ modal.style.display="none"; }

function addProfile(){
  const name=newName.value;
  if(!name) return alert("Enter name");
  localStorage.setItem("activeUser",name);

  const div=document.createElement("div");
  div.className="profile";
  div.onclick=()=>selectUser(name);
  div.innerHTML=`
    <div class="avatar" style="background-image:url('https://ui-avatars.com/api/?name=${name}&background=0f766e&color=fff&size=200')"></div>
    <span>${name}</span>`;
  profileGrid.insertBefore(div,profileGrid.lastElementChild);
  closeModal();
}

function startAlerts(){
  Notification.requestPermission().then(p=>{
    if(p==="granted"){
      notif.innerText="Notifications: Active";
      setInterval(()=>{
        const user=localStorage.getItem("activeUser")||"Patient";
        new Notification("Echo Health Alert",{
          body:`Hey ${user}, time to take medicine!`,
          icon:"./logo.jpeg"
        });
        speechSynthesis.speak(new SpeechSynthesisUtterance(`Time for medicine ${user}`));
      },2000);
    }
  });
}
</script>

</body>
</html>
